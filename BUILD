package(
    default_visibility = ["//visibility:private"],
)

CMAKE_GENERATED_FILES = [
        "CMakeCache.txt",
        "CMakeDoxyfile.in",
        "CMakeDoxygenDefaults.cmake",
        "CMakeFiles/3.9.0/CMakeCCompiler.cmake",
        "CMakeFiles/3.9.0/CMakeDetermineCompilerABI_C.bin",
        "CMakeFiles/3.9.0/CMakeSystem.cmake",
        "CMakeFiles/3.9.0/CompilerIdC/a.out",
        "CMakeFiles/3.9.0/CompilerIdC/CMakeCCompilerId.c",
        "CMakeFiles/cmake.check_cache",
        "CMakeFiles/CMakeDirectoryInformation.cmake",
        "CMakeFiles/CMakeError.log",
        "CMakeFiles/CMakeOutput.log",
        "CMakeFiles/CMakeRuleHashes.txt",
        "CMakeFiles/Export/lib/cmake/glfw3/glfw3Targets.cmake",
        "CMakeFiles/Export/lib/cmake/glfw3/glfw3Targets-noconfig.cmake",
        "CMakeFiles/feature_tests.bin",
        "CMakeFiles/feature_tests.c",
        "CMakeFiles/Makefile2",
        "CMakeFiles/Makefile.cmake",
        "CMakeFiles/progress.marks",
        "CMakeFiles/TargetDirectories.txt",
        "CMakeFiles/uninstall.dir/build.make",
        "CMakeFiles/uninstall.dir/cmake_clean.cmake",
        "CMakeFiles/uninstall.dir/DependInfo.cmake",
        "CMakeFiles/uninstall.dir/progress.make",
        "cmake_install.cmake",
        "cmake_uninstall.cmake",
        "docs/CMakeFiles/CMakeDirectoryInformation.cmake",
        "docs/CMakeFiles/docs.dir/build.make",
        "docs/CMakeFiles/docs.dir/cmake_clean.cmake",
        "docs/CMakeFiles/docs.dir/DependInfo.cmake",
        "docs/CMakeFiles/docs.dir/progress.make",
        "docs/CMakeFiles/progress.marks",
        "docs/cmake_install.cmake",
        "docs/Doxyfile",
        "docs/Makefile",
        "examples/CMakeFiles/boing.dir/build.make",
        "examples/CMakeFiles/boing.dir/cmake_clean.cmake",
        "examples/CMakeFiles/boing.dir/DependInfo.cmake",
        "examples/CMakeFiles/boing.dir/depend.make",
        "examples/CMakeFiles/boing.dir/flags.make",
        "examples/CMakeFiles/boing.dir/link.txt",
        "examples/CMakeFiles/boing.dir/progress.make",
        "examples/CMakeFiles/CMakeDirectoryInformation.cmake",
        "examples/CMakeFiles/gears.dir/build.make",
        "examples/CMakeFiles/gears.dir/cmake_clean.cmake",
        "examples/CMakeFiles/gears.dir/DependInfo.cmake",
        "examples/CMakeFiles/gears.dir/depend.make",
        "examples/CMakeFiles/gears.dir/flags.make",
        "examples/CMakeFiles/gears.dir/link.txt",
        "examples/CMakeFiles/gears.dir/progress.make",
        "examples/CMakeFiles/heightmap.dir/build.make",
        "examples/CMakeFiles/heightmap.dir/cmake_clean.cmake",
        "examples/CMakeFiles/heightmap.dir/DependInfo.cmake",
        "examples/CMakeFiles/heightmap.dir/depend.make",
        "examples/CMakeFiles/heightmap.dir/flags.make",
        "examples/CMakeFiles/heightmap.dir/link.txt",
        "examples/CMakeFiles/heightmap.dir/progress.make",
        "examples/CMakeFiles/offscreen.dir/build.make",
        "examples/CMakeFiles/offscreen.dir/cmake_clean.cmake",
        "examples/CMakeFiles/offscreen.dir/DependInfo.cmake",
        "examples/CMakeFiles/offscreen.dir/depend.make",
        "examples/CMakeFiles/offscreen.dir/flags.make",
        "examples/CMakeFiles/offscreen.dir/link.txt",
        "examples/CMakeFiles/offscreen.dir/progress.make",
        "examples/CMakeFiles/particles.dir/build.make",
        "examples/CMakeFiles/particles.dir/cmake_clean.cmake",
        "examples/CMakeFiles/particles.dir/DependInfo.cmake",
        "examples/CMakeFiles/particles.dir/depend.make",
        "examples/CMakeFiles/particles.dir/flags.make",
        "examples/CMakeFiles/particles.dir/link.txt",
        "examples/CMakeFiles/particles.dir/progress.make",
        "examples/CMakeFiles/progress.marks",
        "examples/CMakeFiles/sharing.dir/build.make",
        "examples/CMakeFiles/sharing.dir/cmake_clean.cmake",
        "examples/CMakeFiles/sharing.dir/DependInfo.cmake",
        "examples/CMakeFiles/sharing.dir/depend.make",
        "examples/CMakeFiles/sharing.dir/flags.make",
        "examples/CMakeFiles/sharing.dir/link.txt",
        "examples/CMakeFiles/sharing.dir/progress.make",
        "examples/CMakeFiles/simple.dir/build.make",
        "examples/CMakeFiles/simple.dir/cmake_clean.cmake",
        "examples/CMakeFiles/simple.dir/DependInfo.cmake",
        "examples/CMakeFiles/simple.dir/depend.make",
        "examples/CMakeFiles/simple.dir/flags.make",
        "examples/CMakeFiles/simple.dir/link.txt",
        "examples/CMakeFiles/simple.dir/progress.make",
        "examples/CMakeFiles/splitview.dir/build.make",
        "examples/CMakeFiles/splitview.dir/cmake_clean.cmake",
        "examples/CMakeFiles/splitview.dir/DependInfo.cmake",
        "examples/CMakeFiles/splitview.dir/depend.make",
        "examples/CMakeFiles/splitview.dir/flags.make",
        "examples/CMakeFiles/splitview.dir/link.txt",
        "examples/CMakeFiles/splitview.dir/progress.make",
        "examples/CMakeFiles/wave.dir/build.make",
        "examples/CMakeFiles/wave.dir/cmake_clean.cmake",
        "examples/CMakeFiles/wave.dir/DependInfo.cmake",
        "examples/CMakeFiles/wave.dir/depend.make",
        "examples/CMakeFiles/wave.dir/flags.make",
        "examples/CMakeFiles/wave.dir/link.txt",
        "examples/CMakeFiles/wave.dir/progress.make",
        "examples/cmake_install.cmake",
        "examples/Makefile",
        "Makefile",
        "src/CMakeFiles/CMakeDirectoryInformation.cmake",
        "src/CMakeFiles/glfw.dir/build.make",
        "src/CMakeFiles/glfw.dir/cmake_clean.cmake",
        "src/CMakeFiles/glfw.dir/cmake_clean_target.cmake",
        "src/CMakeFiles/glfw.dir/DependInfo.cmake",
        "src/CMakeFiles/glfw.dir/depend.make",
        "src/CMakeFiles/glfw.dir/flags.make",
        "src/CMakeFiles/glfw.dir/link.txt",
        "src/CMakeFiles/glfw.dir/progress.make",
        "src/CMakeFiles/progress.marks",
        "src/cmake_install.cmake",
        "src/glfw3Config.cmake",
        "src/glfw3ConfigVersion.cmake",
        "src/glfw3.pc",
        "src/glfw_config.h",
        "src/Makefile",
        "tests/CMakeFiles/clipboard.dir/build.make",
        "tests/CMakeFiles/clipboard.dir/cmake_clean.cmake",
        "tests/CMakeFiles/clipboard.dir/DependInfo.cmake",
        "tests/CMakeFiles/clipboard.dir/depend.make",
        "tests/CMakeFiles/clipboard.dir/flags.make",
        "tests/CMakeFiles/clipboard.dir/link.txt",
        "tests/CMakeFiles/clipboard.dir/progress.make",
        "tests/CMakeFiles/CMakeDirectoryInformation.cmake",
        "tests/CMakeFiles/cursor.dir/build.make",
        "tests/CMakeFiles/cursor.dir/cmake_clean.cmake",
        "tests/CMakeFiles/cursor.dir/DependInfo.cmake",
        "tests/CMakeFiles/cursor.dir/depend.make",
        "tests/CMakeFiles/cursor.dir/flags.make",
        "tests/CMakeFiles/cursor.dir/link.txt",
        "tests/CMakeFiles/cursor.dir/progress.make",
        "tests/CMakeFiles/empty.dir/build.make",
        "tests/CMakeFiles/empty.dir/cmake_clean.cmake",
        "tests/CMakeFiles/empty.dir/DependInfo.cmake",
        "tests/CMakeFiles/empty.dir/depend.make",
        "tests/CMakeFiles/empty.dir/flags.make",
        "tests/CMakeFiles/empty.dir/link.txt",
        "tests/CMakeFiles/empty.dir/progress.make",
        "tests/CMakeFiles/events.dir/build.make",
        "tests/CMakeFiles/events.dir/cmake_clean.cmake",
        "tests/CMakeFiles/events.dir/DependInfo.cmake",
        "tests/CMakeFiles/events.dir/depend.make",
        "tests/CMakeFiles/events.dir/flags.make",
        "tests/CMakeFiles/events.dir/link.txt",
        "tests/CMakeFiles/events.dir/progress.make",
        "tests/CMakeFiles/gamma.dir/build.make",
        "tests/CMakeFiles/gamma.dir/cmake_clean.cmake",
        "tests/CMakeFiles/gamma.dir/DependInfo.cmake",
        "tests/CMakeFiles/gamma.dir/depend.make",
        "tests/CMakeFiles/gamma.dir/flags.make",
        "tests/CMakeFiles/gamma.dir/link.txt",
        "tests/CMakeFiles/gamma.dir/progress.make",
        "tests/CMakeFiles/glfwinfo.dir/build.make",
        "tests/CMakeFiles/glfwinfo.dir/cmake_clean.cmake",
        "tests/CMakeFiles/glfwinfo.dir/DependInfo.cmake",
        "tests/CMakeFiles/glfwinfo.dir/depend.make",
        "tests/CMakeFiles/glfwinfo.dir/flags.make",
        "tests/CMakeFiles/glfwinfo.dir/link.txt",
        "tests/CMakeFiles/glfwinfo.dir/progress.make",
        "tests/CMakeFiles/icon.dir/build.make",
        "tests/CMakeFiles/icon.dir/cmake_clean.cmake",
        "tests/CMakeFiles/icon.dir/DependInfo.cmake",
        "tests/CMakeFiles/icon.dir/depend.make",
        "tests/CMakeFiles/icon.dir/flags.make",
        "tests/CMakeFiles/icon.dir/link.txt",
        "tests/CMakeFiles/icon.dir/progress.make",
        "tests/CMakeFiles/iconify.dir/build.make",
        "tests/CMakeFiles/iconify.dir/cmake_clean.cmake",
        "tests/CMakeFiles/iconify.dir/DependInfo.cmake",
        "tests/CMakeFiles/iconify.dir/depend.make",
        "tests/CMakeFiles/iconify.dir/flags.make",
        "tests/CMakeFiles/iconify.dir/link.txt",
        "tests/CMakeFiles/iconify.dir/progress.make",
        "tests/CMakeFiles/inputlag.dir/build.make",
        "tests/CMakeFiles/inputlag.dir/cmake_clean.cmake",
        "tests/CMakeFiles/inputlag.dir/DependInfo.cmake",
        "tests/CMakeFiles/inputlag.dir/depend.make",
        "tests/CMakeFiles/inputlag.dir/flags.make",
        "tests/CMakeFiles/inputlag.dir/link.txt",
        "tests/CMakeFiles/inputlag.dir/progress.make",
        "tests/CMakeFiles/joysticks.dir/build.make",
        "tests/CMakeFiles/joysticks.dir/cmake_clean.cmake",
        "tests/CMakeFiles/joysticks.dir/DependInfo.cmake",
        "tests/CMakeFiles/joysticks.dir/depend.make",
        "tests/CMakeFiles/joysticks.dir/flags.make",
        "tests/CMakeFiles/joysticks.dir/link.txt",
        "tests/CMakeFiles/joysticks.dir/progress.make",
        "tests/CMakeFiles/monitors.dir/build.make",
        "tests/CMakeFiles/monitors.dir/cmake_clean.cmake",
        "tests/CMakeFiles/monitors.dir/DependInfo.cmake",
        "tests/CMakeFiles/monitors.dir/depend.make",
        "tests/CMakeFiles/monitors.dir/flags.make",
        "tests/CMakeFiles/monitors.dir/link.txt",
        "tests/CMakeFiles/monitors.dir/progress.make",
        "tests/CMakeFiles/msaa.dir/build.make",
        "tests/CMakeFiles/msaa.dir/cmake_clean.cmake",
        "tests/CMakeFiles/msaa.dir/DependInfo.cmake",
        "tests/CMakeFiles/msaa.dir/depend.make",
        "tests/CMakeFiles/msaa.dir/flags.make",
        "tests/CMakeFiles/msaa.dir/link.txt",
        "tests/CMakeFiles/msaa.dir/progress.make",
        "tests/CMakeFiles/opacity.dir/build.make",
        "tests/CMakeFiles/opacity.dir/cmake_clean.cmake",
        "tests/CMakeFiles/opacity.dir/DependInfo.cmake",
        "tests/CMakeFiles/opacity.dir/depend.make",
        "tests/CMakeFiles/opacity.dir/flags.make",
        "tests/CMakeFiles/opacity.dir/link.txt",
        "tests/CMakeFiles/opacity.dir/progress.make",
        "tests/CMakeFiles/progress.marks",
        "tests/CMakeFiles/reopen.dir/build.make",
        "tests/CMakeFiles/reopen.dir/cmake_clean.cmake",
        "tests/CMakeFiles/reopen.dir/DependInfo.cmake",
        "tests/CMakeFiles/reopen.dir/depend.make",
        "tests/CMakeFiles/reopen.dir/flags.make",
        "tests/CMakeFiles/reopen.dir/link.txt",
        "tests/CMakeFiles/reopen.dir/progress.make",
        "tests/CMakeFiles/tearing.dir/build.make",
        "tests/CMakeFiles/tearing.dir/cmake_clean.cmake",
        "tests/CMakeFiles/tearing.dir/DependInfo.cmake",
        "tests/CMakeFiles/tearing.dir/depend.make",
        "tests/CMakeFiles/tearing.dir/flags.make",
        "tests/CMakeFiles/tearing.dir/link.txt",
        "tests/CMakeFiles/tearing.dir/progress.make",
        "tests/CMakeFiles/threads.dir/build.make",
        "tests/CMakeFiles/threads.dir/cmake_clean.cmake",
        "tests/CMakeFiles/threads.dir/DependInfo.cmake",
        "tests/CMakeFiles/threads.dir/depend.make",
        "tests/CMakeFiles/threads.dir/flags.make",
        "tests/CMakeFiles/threads.dir/link.txt",
        "tests/CMakeFiles/threads.dir/progress.make",
        "tests/CMakeFiles/timeout.dir/build.make",
        "tests/CMakeFiles/timeout.dir/cmake_clean.cmake",
        "tests/CMakeFiles/timeout.dir/DependInfo.cmake",
        "tests/CMakeFiles/timeout.dir/depend.make",
        "tests/CMakeFiles/timeout.dir/flags.make",
        "tests/CMakeFiles/timeout.dir/link.txt",
        "tests/CMakeFiles/timeout.dir/progress.make",
        "tests/CMakeFiles/title.dir/build.make",
        "tests/CMakeFiles/title.dir/cmake_clean.cmake",
        "tests/CMakeFiles/title.dir/DependInfo.cmake",
        "tests/CMakeFiles/title.dir/depend.make",
        "tests/CMakeFiles/title.dir/flags.make",
        "tests/CMakeFiles/title.dir/link.txt",
        "tests/CMakeFiles/title.dir/progress.make",
        "tests/CMakeFiles/vulkan.dir/build.make",
        "tests/CMakeFiles/vulkan.dir/cmake_clean.cmake",
        "tests/CMakeFiles/vulkan.dir/DependInfo.cmake",
        "tests/CMakeFiles/vulkan.dir/depend.make",
        "tests/CMakeFiles/vulkan.dir/flags.make",
        "tests/CMakeFiles/vulkan.dir/link.txt",
        "tests/CMakeFiles/vulkan.dir/progress.make",
        "tests/CMakeFiles/windows.dir/build.make",
        "tests/CMakeFiles/windows.dir/cmake_clean.cmake",
        "tests/CMakeFiles/windows.dir/DependInfo.cmake",
        "tests/CMakeFiles/windows.dir/depend.make",
        "tests/CMakeFiles/windows.dir/flags.make",
        "tests/CMakeFiles/windows.dir/link.txt",
        "tests/CMakeFiles/windows.dir/progress.make",
        "tests/cmake_install.cmake",
        "tests/Makefile",
]

#genrule(
#    name = "glfw_cmake",
#    cmd = "./$(location cmake) .",
#    outs = CMAKE_GENERATED_FILES,
#    tools = ["cmake"],
#)
#
#genrule(
#    name = "glfw_build",
#    cmd = "./$(location make)",
#    outs = ["srcs/libglfw3.a"],
#)

genrule(
    name = "glfw_build",
    srcs = glob(["**/*"], exclude=CMAKE_GENERATED_FILES),
    cmd = "cmake . && make",
    outs = ["srcs/libglfw3.a"] + CMAKE_GENERATED_FILES,
)

cc_library(
    name = "glfw3",
    hdrs = ["include/GLFW/glfw3.h"],
    include_prefix = "GLFW",
    visibility = ["//visibility:public"],
    deps = [
#        ":glfw_cmake",
        ":glfw_build"
    ]
)

